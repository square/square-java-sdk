/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.squareup.square;

import com.squareup.square.bookings.AsyncCustomAttributeDefinitionsClient;
import com.squareup.square.bookings.AsyncCustomAttributesClient;
import com.squareup.square.bookings.AsyncLocationProfilesClient;
import com.squareup.square.bookings.AsyncTeamMemberProfilesClient;
import com.squareup.square.core.ClientOptions;
import com.squareup.square.core.RequestOptions;
import com.squareup.square.core.Suppliers;
import com.squareup.square.core.SyncPagingIterable;
import com.squareup.square.types.Booking;
import com.squareup.square.types.BulkRetrieveBookingsRequest;
import com.squareup.square.types.BulkRetrieveBookingsResponse;
import com.squareup.square.types.BulkRetrieveTeamMemberBookingProfilesRequest;
import com.squareup.square.types.BulkRetrieveTeamMemberBookingProfilesResponse;
import com.squareup.square.types.CancelBookingRequest;
import com.squareup.square.types.CancelBookingResponse;
import com.squareup.square.types.CreateBookingRequest;
import com.squareup.square.types.CreateBookingResponse;
import com.squareup.square.types.GetBookingResponse;
import com.squareup.square.types.GetBookingsRequest;
import com.squareup.square.types.GetBusinessBookingProfileResponse;
import com.squareup.square.types.ListBookingsRequest;
import com.squareup.square.types.RetrieveLocationBookingProfileRequest;
import com.squareup.square.types.RetrieveLocationBookingProfileResponse;
import com.squareup.square.types.SearchAvailabilityRequest;
import com.squareup.square.types.SearchAvailabilityResponse;
import com.squareup.square.types.UpdateBookingRequest;
import com.squareup.square.types.UpdateBookingResponse;
import java.util.concurrent.CompletableFuture;
import java.util.function.Supplier;

public class AsyncBookingsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawBookingsClient rawClient;

    protected final Supplier<AsyncCustomAttributeDefinitionsClient> customAttributeDefinitionsClient;

    protected final Supplier<AsyncCustomAttributesClient> customAttributesClient;

    protected final Supplier<AsyncLocationProfilesClient> locationProfilesClient;

    protected final Supplier<AsyncTeamMemberProfilesClient> teamMemberProfilesClient;

    public AsyncBookingsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawBookingsClient(clientOptions);
        this.customAttributeDefinitionsClient =
                Suppliers.memoize(() -> new AsyncCustomAttributeDefinitionsClient(clientOptions));
        this.customAttributesClient = Suppliers.memoize(() -> new AsyncCustomAttributesClient(clientOptions));
        this.locationProfilesClient = Suppliers.memoize(() -> new AsyncLocationProfilesClient(clientOptions));
        this.teamMemberProfilesClient = Suppliers.memoize(() -> new AsyncTeamMemberProfilesClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawBookingsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieve a collection of bookings.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<SyncPagingIterable<Booking>> list() {
        return this.rawClient.list().thenApply(response -> response.body());
    }

    /**
     * Retrieve a collection of bookings.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<SyncPagingIterable<Booking>> list(ListBookingsRequest request) {
        return this.rawClient.list(request).thenApply(response -> response.body());
    }

    /**
     * Retrieve a collection of bookings.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<SyncPagingIterable<Booking>> list(
            ListBookingsRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Creates a booking.
     * <p>The required input must include the following:</p>
     * <ul>
     * <li><code>Booking.location_id</code></li>
     * <li><code>Booking.start_at</code></li>
     * <li><code>Booking.AppointmentSegment.team_member_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_version</code></li>
     * </ul>
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CompletableFuture<CreateBookingResponse> create(CreateBookingRequest request) {
        return this.rawClient.create(request).thenApply(response -> response.body());
    }

    /**
     * Creates a booking.
     * <p>The required input must include the following:</p>
     * <ul>
     * <li><code>Booking.location_id</code></li>
     * <li><code>Booking.start_at</code></li>
     * <li><code>Booking.AppointmentSegment.team_member_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_version</code></li>
     * </ul>
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CompletableFuture<CreateBookingResponse> create(
            CreateBookingRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Searches for availabilities for booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<SearchAvailabilityResponse> searchAvailability(SearchAvailabilityRequest request) {
        return this.rawClient.searchAvailability(request).thenApply(response -> response.body());
    }

    /**
     * Searches for availabilities for booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<SearchAvailabilityResponse> searchAvailability(
            SearchAvailabilityRequest request, RequestOptions requestOptions) {
        return this.rawClient.searchAvailability(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Bulk-Retrieves a list of bookings by booking IDs.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<BulkRetrieveBookingsResponse> bulkRetrieveBookings(BulkRetrieveBookingsRequest request) {
        return this.rawClient.bulkRetrieveBookings(request).thenApply(response -> response.body());
    }

    /**
     * Bulk-Retrieves a list of bookings by booking IDs.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<BulkRetrieveBookingsResponse> bulkRetrieveBookings(
            BulkRetrieveBookingsRequest request, RequestOptions requestOptions) {
        return this.rawClient.bulkRetrieveBookings(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves a seller's booking profile.
     */
    public CompletableFuture<GetBusinessBookingProfileResponse> getBusinessProfile() {
        return this.rawClient.getBusinessProfile().thenApply(response -> response.body());
    }

    /**
     * Retrieves a seller's booking profile.
     */
    public CompletableFuture<GetBusinessBookingProfileResponse> getBusinessProfile(RequestOptions requestOptions) {
        return this.rawClient.getBusinessProfile(requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves a seller's location booking profile.
     */
    public CompletableFuture<RetrieveLocationBookingProfileResponse> retrieveLocationBookingProfile(
            RetrieveLocationBookingProfileRequest request) {
        return this.rawClient.retrieveLocationBookingProfile(request).thenApply(response -> response.body());
    }

    /**
     * Retrieves a seller's location booking profile.
     */
    public CompletableFuture<RetrieveLocationBookingProfileResponse> retrieveLocationBookingProfile(
            RetrieveLocationBookingProfileRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .retrieveLocationBookingProfile(request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Retrieves one or more team members' booking profiles.
     */
    public CompletableFuture<BulkRetrieveTeamMemberBookingProfilesResponse> bulkRetrieveTeamMemberBookingProfiles(
            BulkRetrieveTeamMemberBookingProfilesRequest request) {
        return this.rawClient.bulkRetrieveTeamMemberBookingProfiles(request).thenApply(response -> response.body());
    }

    /**
     * Retrieves one or more team members' booking profiles.
     */
    public CompletableFuture<BulkRetrieveTeamMemberBookingProfilesResponse> bulkRetrieveTeamMemberBookingProfiles(
            BulkRetrieveTeamMemberBookingProfilesRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .bulkRetrieveTeamMemberBookingProfiles(request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Retrieves a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<GetBookingResponse> get(GetBookingsRequest request) {
        return this.rawClient.get(request).thenApply(response -> response.body());
    }

    /**
     * Retrieves a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public CompletableFuture<GetBookingResponse> get(GetBookingsRequest request, RequestOptions requestOptions) {
        return this.rawClient.get(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Updates a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CompletableFuture<UpdateBookingResponse> update(UpdateBookingRequest request) {
        return this.rawClient.update(request).thenApply(response -> response.body());
    }

    /**
     * Updates a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CompletableFuture<UpdateBookingResponse> update(
            UpdateBookingRequest request, RequestOptions requestOptions) {
        return this.rawClient.update(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Cancels an existing booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CompletableFuture<CancelBookingResponse> cancel(CancelBookingRequest request) {
        return this.rawClient.cancel(request).thenApply(response -> response.body());
    }

    /**
     * Cancels an existing booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CompletableFuture<CancelBookingResponse> cancel(
            CancelBookingRequest request, RequestOptions requestOptions) {
        return this.rawClient.cancel(request, requestOptions).thenApply(response -> response.body());
    }

    public AsyncCustomAttributeDefinitionsClient customAttributeDefinitions() {
        return this.customAttributeDefinitionsClient.get();
    }

    public AsyncCustomAttributesClient customAttributes() {
        return this.customAttributesClient.get();
    }

    public AsyncLocationProfilesClient locationProfiles() {
        return this.locationProfilesClient.get();
    }

    public AsyncTeamMemberProfilesClient teamMemberProfiles() {
        return this.teamMemberProfilesClient.get();
    }
}
