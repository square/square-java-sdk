/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.squareup.square;

import com.squareup.square.bookings.CustomAttributeDefinitionsClient;
import com.squareup.square.bookings.CustomAttributesClient;
import com.squareup.square.bookings.LocationProfilesClient;
import com.squareup.square.bookings.TeamMemberProfilesClient;
import com.squareup.square.core.ClientOptions;
import com.squareup.square.core.RequestOptions;
import com.squareup.square.core.Suppliers;
import com.squareup.square.core.SyncPagingIterable;
import com.squareup.square.types.Booking;
import com.squareup.square.types.BulkRetrieveBookingsRequest;
import com.squareup.square.types.BulkRetrieveBookingsResponse;
import com.squareup.square.types.BulkRetrieveTeamMemberBookingProfilesRequest;
import com.squareup.square.types.BulkRetrieveTeamMemberBookingProfilesResponse;
import com.squareup.square.types.CancelBookingRequest;
import com.squareup.square.types.CancelBookingResponse;
import com.squareup.square.types.CreateBookingRequest;
import com.squareup.square.types.CreateBookingResponse;
import com.squareup.square.types.GetBookingResponse;
import com.squareup.square.types.GetBookingsRequest;
import com.squareup.square.types.GetBusinessBookingProfileResponse;
import com.squareup.square.types.ListBookingsRequest;
import com.squareup.square.types.RetrieveLocationBookingProfileRequest;
import com.squareup.square.types.RetrieveLocationBookingProfileResponse;
import com.squareup.square.types.SearchAvailabilityRequest;
import com.squareup.square.types.SearchAvailabilityResponse;
import com.squareup.square.types.UpdateBookingRequest;
import com.squareup.square.types.UpdateBookingResponse;
import java.util.function.Supplier;

public class BookingsClient {
    protected final ClientOptions clientOptions;

    private final RawBookingsClient rawClient;

    protected final Supplier<CustomAttributeDefinitionsClient> customAttributeDefinitionsClient;

    protected final Supplier<CustomAttributesClient> customAttributesClient;

    protected final Supplier<LocationProfilesClient> locationProfilesClient;

    protected final Supplier<TeamMemberProfilesClient> teamMemberProfilesClient;

    public BookingsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawBookingsClient(clientOptions);
        this.customAttributeDefinitionsClient =
                Suppliers.memoize(() -> new CustomAttributeDefinitionsClient(clientOptions));
        this.customAttributesClient = Suppliers.memoize(() -> new CustomAttributesClient(clientOptions));
        this.locationProfilesClient = Suppliers.memoize(() -> new LocationProfilesClient(clientOptions));
        this.teamMemberProfilesClient = Suppliers.memoize(() -> new TeamMemberProfilesClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawBookingsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Retrieve a collection of bookings.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public SyncPagingIterable<Booking> list() {
        return this.rawClient.list().body();
    }

    /**
     * Retrieve a collection of bookings.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public SyncPagingIterable<Booking> list(ListBookingsRequest request) {
        return this.rawClient.list(request).body();
    }

    /**
     * Retrieve a collection of bookings.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public SyncPagingIterable<Booking> list(ListBookingsRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).body();
    }

    /**
     * Creates a booking.
     * <p>The required input must include the following:</p>
     * <ul>
     * <li><code>Booking.location_id</code></li>
     * <li><code>Booking.start_at</code></li>
     * <li><code>Booking.AppointmentSegment.team_member_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_version</code></li>
     * </ul>
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CreateBookingResponse create(CreateBookingRequest request) {
        return this.rawClient.create(request).body();
    }

    /**
     * Creates a booking.
     * <p>The required input must include the following:</p>
     * <ul>
     * <li><code>Booking.location_id</code></li>
     * <li><code>Booking.start_at</code></li>
     * <li><code>Booking.AppointmentSegment.team_member_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_id</code></li>
     * <li><code>Booking.AppointmentSegment.service_variation_version</code></li>
     * </ul>
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CreateBookingResponse create(CreateBookingRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).body();
    }

    /**
     * Searches for availabilities for booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public SearchAvailabilityResponse searchAvailability(SearchAvailabilityRequest request) {
        return this.rawClient.searchAvailability(request).body();
    }

    /**
     * Searches for availabilities for booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public SearchAvailabilityResponse searchAvailability(
            SearchAvailabilityRequest request, RequestOptions requestOptions) {
        return this.rawClient.searchAvailability(request, requestOptions).body();
    }

    /**
     * Bulk-Retrieves a list of bookings by booking IDs.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public BulkRetrieveBookingsResponse bulkRetrieveBookings(BulkRetrieveBookingsRequest request) {
        return this.rawClient.bulkRetrieveBookings(request).body();
    }

    /**
     * Bulk-Retrieves a list of bookings by booking IDs.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public BulkRetrieveBookingsResponse bulkRetrieveBookings(
            BulkRetrieveBookingsRequest request, RequestOptions requestOptions) {
        return this.rawClient.bulkRetrieveBookings(request, requestOptions).body();
    }

    /**
     * Retrieves a seller's booking profile.
     */
    public GetBusinessBookingProfileResponse getBusinessProfile() {
        return this.rawClient.getBusinessProfile().body();
    }

    /**
     * Retrieves a seller's booking profile.
     */
    public GetBusinessBookingProfileResponse getBusinessProfile(RequestOptions requestOptions) {
        return this.rawClient.getBusinessProfile(requestOptions).body();
    }

    /**
     * Retrieves a seller's location booking profile.
     */
    public RetrieveLocationBookingProfileResponse retrieveLocationBookingProfile(
            RetrieveLocationBookingProfileRequest request) {
        return this.rawClient.retrieveLocationBookingProfile(request).body();
    }

    /**
     * Retrieves a seller's location booking profile.
     */
    public RetrieveLocationBookingProfileResponse retrieveLocationBookingProfile(
            RetrieveLocationBookingProfileRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .retrieveLocationBookingProfile(request, requestOptions)
                .body();
    }

    /**
     * Retrieves one or more team members' booking profiles.
     */
    public BulkRetrieveTeamMemberBookingProfilesResponse bulkRetrieveTeamMemberBookingProfiles(
            BulkRetrieveTeamMemberBookingProfilesRequest request) {
        return this.rawClient.bulkRetrieveTeamMemberBookingProfiles(request).body();
    }

    /**
     * Retrieves one or more team members' booking profiles.
     */
    public BulkRetrieveTeamMemberBookingProfilesResponse bulkRetrieveTeamMemberBookingProfiles(
            BulkRetrieveTeamMemberBookingProfilesRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .bulkRetrieveTeamMemberBookingProfiles(request, requestOptions)
                .body();
    }

    /**
     * Retrieves a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public GetBookingResponse get(GetBookingsRequest request) {
        return this.rawClient.get(request).body();
    }

    /**
     * Retrieves a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_READ</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_READ</code> and <code>APPOINTMENTS_READ</code> for the OAuth scope.</p>
     */
    public GetBookingResponse get(GetBookingsRequest request, RequestOptions requestOptions) {
        return this.rawClient.get(request, requestOptions).body();
    }

    /**
     * Updates a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public UpdateBookingResponse update(UpdateBookingRequest request) {
        return this.rawClient.update(request).body();
    }

    /**
     * Updates a booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public UpdateBookingResponse update(UpdateBookingRequest request, RequestOptions requestOptions) {
        return this.rawClient.update(request, requestOptions).body();
    }

    /**
     * Cancels an existing booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CancelBookingResponse cancel(CancelBookingRequest request) {
        return this.rawClient.cancel(request).body();
    }

    /**
     * Cancels an existing booking.
     * <p>To call this endpoint with buyer-level permissions, set <code>APPOINTMENTS_WRITE</code> for the OAuth scope.
     * To call this endpoint with seller-level permissions, set <code>APPOINTMENTS_ALL_WRITE</code> and <code>APPOINTMENTS_WRITE</code> for the OAuth scope.</p>
     * <p>For calls to this endpoint with seller-level permissions to succeed, the seller must have subscribed to <em>Appointments Plus</em>
     * or <em>Appointments Premium</em>.</p>
     */
    public CancelBookingResponse cancel(CancelBookingRequest request, RequestOptions requestOptions) {
        return this.rawClient.cancel(request, requestOptions).body();
    }

    public CustomAttributeDefinitionsClient customAttributeDefinitions() {
        return this.customAttributeDefinitionsClient.get();
    }

    public CustomAttributesClient customAttributes() {
        return this.customAttributesClient.get();
    }

    public LocationProfilesClient locationProfiles() {
        return this.locationProfilesClient.get();
    }

    public TeamMemberProfilesClient teamMemberProfiles() {
        return this.teamMemberProfilesClient.get();
    }
}
