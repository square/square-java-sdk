/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.squareup.square;

import com.squareup.square.core.ClientOptions;
import com.squareup.square.core.RequestOptions;
import com.squareup.square.core.Suppliers;
import com.squareup.square.core.SyncPagingIterable;
import com.squareup.square.customers.CardsClient;
import com.squareup.square.customers.CustomAttributeDefinitionsClient;
import com.squareup.square.customers.CustomAttributesClient;
import com.squareup.square.customers.GroupsClient;
import com.squareup.square.customers.SegmentsClient;
import com.squareup.square.types.BulkCreateCustomersRequest;
import com.squareup.square.types.BulkCreateCustomersResponse;
import com.squareup.square.types.BulkDeleteCustomersRequest;
import com.squareup.square.types.BulkDeleteCustomersResponse;
import com.squareup.square.types.BulkRetrieveCustomersRequest;
import com.squareup.square.types.BulkRetrieveCustomersResponse;
import com.squareup.square.types.BulkUpdateCustomersRequest;
import com.squareup.square.types.BulkUpdateCustomersResponse;
import com.squareup.square.types.CreateCustomerRequest;
import com.squareup.square.types.CreateCustomerResponse;
import com.squareup.square.types.Customer;
import com.squareup.square.types.DeleteCustomerResponse;
import com.squareup.square.types.DeleteCustomersRequest;
import com.squareup.square.types.GetCustomerResponse;
import com.squareup.square.types.GetCustomersRequest;
import com.squareup.square.types.ListCustomersRequest;
import com.squareup.square.types.SearchCustomersRequest;
import com.squareup.square.types.SearchCustomersResponse;
import com.squareup.square.types.UpdateCustomerRequest;
import com.squareup.square.types.UpdateCustomerResponse;
import java.util.function.Supplier;

public class CustomersClient {
    protected final ClientOptions clientOptions;

    private final RawCustomersClient rawClient;

    protected final Supplier<CustomAttributeDefinitionsClient> customAttributeDefinitionsClient;

    protected final Supplier<GroupsClient> groupsClient;

    protected final Supplier<SegmentsClient> segmentsClient;

    protected final Supplier<CardsClient> cardsClient;

    protected final Supplier<CustomAttributesClient> customAttributesClient;

    public CustomersClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawCustomersClient(clientOptions);
        this.customAttributeDefinitionsClient =
                Suppliers.memoize(() -> new CustomAttributeDefinitionsClient(clientOptions));
        this.groupsClient = Suppliers.memoize(() -> new GroupsClient(clientOptions));
        this.segmentsClient = Suppliers.memoize(() -> new SegmentsClient(clientOptions));
        this.cardsClient = Suppliers.memoize(() -> new CardsClient(clientOptions));
        this.customAttributesClient = Suppliers.memoize(() -> new CustomAttributesClient(clientOptions));
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawCustomersClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Lists customer profiles associated with a Square account.
     * <p>Under normal operating conditions, newly created or updated customer profiles become available
     * for the listing operation in well under 30 seconds. Occasionally, propagation of the new or updated
     * profiles can take closer to one minute or longer, especially during network incidents and outages.</p>
     */
    public SyncPagingIterable<Customer> list() {
        return this.rawClient.list().body();
    }

    /**
     * Lists customer profiles associated with a Square account.
     * <p>Under normal operating conditions, newly created or updated customer profiles become available
     * for the listing operation in well under 30 seconds. Occasionally, propagation of the new or updated
     * profiles can take closer to one minute or longer, especially during network incidents and outages.</p>
     */
    public SyncPagingIterable<Customer> list(ListCustomersRequest request) {
        return this.rawClient.list(request).body();
    }

    /**
     * Lists customer profiles associated with a Square account.
     * <p>Under normal operating conditions, newly created or updated customer profiles become available
     * for the listing operation in well under 30 seconds. Occasionally, propagation of the new or updated
     * profiles can take closer to one minute or longer, especially during network incidents and outages.</p>
     */
    public SyncPagingIterable<Customer> list(ListCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).body();
    }

    /**
     * Creates a new customer for a business.
     * <p>You must provide at least one of the following values in your request to this
     * endpoint:</p>
     * <ul>
     * <li><code>given_name</code></li>
     * <li><code>family_name</code></li>
     * <li><code>company_name</code></li>
     * <li><code>email_address</code></li>
     * <li><code>phone_number</code></li>
     * </ul>
     */
    public CreateCustomerResponse create() {
        return this.rawClient.create().body();
    }

    /**
     * Creates a new customer for a business.
     * <p>You must provide at least one of the following values in your request to this
     * endpoint:</p>
     * <ul>
     * <li><code>given_name</code></li>
     * <li><code>family_name</code></li>
     * <li><code>company_name</code></li>
     * <li><code>email_address</code></li>
     * <li><code>phone_number</code></li>
     * </ul>
     */
    public CreateCustomerResponse create(CreateCustomerRequest request) {
        return this.rawClient.create(request).body();
    }

    /**
     * Creates a new customer for a business.
     * <p>You must provide at least one of the following values in your request to this
     * endpoint:</p>
     * <ul>
     * <li><code>given_name</code></li>
     * <li><code>family_name</code></li>
     * <li><code>company_name</code></li>
     * <li><code>email_address</code></li>
     * <li><code>phone_number</code></li>
     * </ul>
     */
    public CreateCustomerResponse create(CreateCustomerRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).body();
    }

    /**
     * Creates multiple <a href="entity:Customer">customer profiles</a> for a business.
     * <p>This endpoint takes a map of individual create requests and returns a map of responses.</p>
     * <p>You must provide at least one of the following values in each create request:</p>
     * <ul>
     * <li><code>given_name</code></li>
     * <li><code>family_name</code></li>
     * <li><code>company_name</code></li>
     * <li><code>email_address</code></li>
     * <li><code>phone_number</code></li>
     * </ul>
     */
    public BulkCreateCustomersResponse batchCreate(BulkCreateCustomersRequest request) {
        return this.rawClient.batchCreate(request).body();
    }

    /**
     * Creates multiple <a href="entity:Customer">customer profiles</a> for a business.
     * <p>This endpoint takes a map of individual create requests and returns a map of responses.</p>
     * <p>You must provide at least one of the following values in each create request:</p>
     * <ul>
     * <li><code>given_name</code></li>
     * <li><code>family_name</code></li>
     * <li><code>company_name</code></li>
     * <li><code>email_address</code></li>
     * <li><code>phone_number</code></li>
     * </ul>
     */
    public BulkCreateCustomersResponse batchCreate(BulkCreateCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.batchCreate(request, requestOptions).body();
    }

    /**
     * Deletes multiple customer profiles.
     * <p>The endpoint takes a list of customer IDs and returns a map of responses.</p>
     */
    public BulkDeleteCustomersResponse bulkDeleteCustomers(BulkDeleteCustomersRequest request) {
        return this.rawClient.bulkDeleteCustomers(request).body();
    }

    /**
     * Deletes multiple customer profiles.
     * <p>The endpoint takes a list of customer IDs and returns a map of responses.</p>
     */
    public BulkDeleteCustomersResponse bulkDeleteCustomers(
            BulkDeleteCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.bulkDeleteCustomers(request, requestOptions).body();
    }

    /**
     * Retrieves multiple customer profiles.
     * <p>This endpoint takes a list of customer IDs and returns a map of responses.</p>
     */
    public BulkRetrieveCustomersResponse bulkRetrieveCustomers(BulkRetrieveCustomersRequest request) {
        return this.rawClient.bulkRetrieveCustomers(request).body();
    }

    /**
     * Retrieves multiple customer profiles.
     * <p>This endpoint takes a list of customer IDs and returns a map of responses.</p>
     */
    public BulkRetrieveCustomersResponse bulkRetrieveCustomers(
            BulkRetrieveCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.bulkRetrieveCustomers(request, requestOptions).body();
    }

    /**
     * Updates multiple customer profiles.
     * <p>This endpoint takes a map of individual update requests and returns a map of responses.</p>
     */
    public BulkUpdateCustomersResponse bulkUpdateCustomers(BulkUpdateCustomersRequest request) {
        return this.rawClient.bulkUpdateCustomers(request).body();
    }

    /**
     * Updates multiple customer profiles.
     * <p>This endpoint takes a map of individual update requests and returns a map of responses.</p>
     */
    public BulkUpdateCustomersResponse bulkUpdateCustomers(
            BulkUpdateCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.bulkUpdateCustomers(request, requestOptions).body();
    }

    /**
     * Searches the customer profiles associated with a Square account using one or more supported query filters.
     * <p>Calling <code>SearchCustomers</code> without any explicit query filter returns all
     * customer profiles ordered alphabetically based on <code>given_name</code> and
     * <code>family_name</code>.</p>
     * <p>Under normal operating conditions, newly created or updated customer profiles become available
     * for the search operation in well under 30 seconds. Occasionally, propagation of the new or updated
     * profiles can take closer to one minute or longer, especially during network incidents and outages.</p>
     */
    public SearchCustomersResponse search() {
        return this.rawClient.search().body();
    }

    /**
     * Searches the customer profiles associated with a Square account using one or more supported query filters.
     * <p>Calling <code>SearchCustomers</code> without any explicit query filter returns all
     * customer profiles ordered alphabetically based on <code>given_name</code> and
     * <code>family_name</code>.</p>
     * <p>Under normal operating conditions, newly created or updated customer profiles become available
     * for the search operation in well under 30 seconds. Occasionally, propagation of the new or updated
     * profiles can take closer to one minute or longer, especially during network incidents and outages.</p>
     */
    public SearchCustomersResponse search(SearchCustomersRequest request) {
        return this.rawClient.search(request).body();
    }

    /**
     * Searches the customer profiles associated with a Square account using one or more supported query filters.
     * <p>Calling <code>SearchCustomers</code> without any explicit query filter returns all
     * customer profiles ordered alphabetically based on <code>given_name</code> and
     * <code>family_name</code>.</p>
     * <p>Under normal operating conditions, newly created or updated customer profiles become available
     * for the search operation in well under 30 seconds. Occasionally, propagation of the new or updated
     * profiles can take closer to one minute or longer, especially during network incidents and outages.</p>
     */
    public SearchCustomersResponse search(SearchCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.search(request, requestOptions).body();
    }

    /**
     * Returns details for a single customer.
     */
    public GetCustomerResponse get(GetCustomersRequest request) {
        return this.rawClient.get(request).body();
    }

    /**
     * Returns details for a single customer.
     */
    public GetCustomerResponse get(GetCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.get(request, requestOptions).body();
    }

    /**
     * Updates a customer profile. This endpoint supports sparse updates, so only new or changed fields are required in the request.
     * To add or update a field, specify the new value. To remove a field, specify <code>null</code>.
     * <p>To update a customer profile that was created by merging existing profiles, you must use the ID of the newly created profile.</p>
     */
    public UpdateCustomerResponse update(UpdateCustomerRequest request) {
        return this.rawClient.update(request).body();
    }

    /**
     * Updates a customer profile. This endpoint supports sparse updates, so only new or changed fields are required in the request.
     * To add or update a field, specify the new value. To remove a field, specify <code>null</code>.
     * <p>To update a customer profile that was created by merging existing profiles, you must use the ID of the newly created profile.</p>
     */
    public UpdateCustomerResponse update(UpdateCustomerRequest request, RequestOptions requestOptions) {
        return this.rawClient.update(request, requestOptions).body();
    }

    /**
     * Deletes a customer profile from a business.
     * <p>To delete a customer profile that was created by merging existing profiles, you must use the ID of the newly created profile.</p>
     */
    public DeleteCustomerResponse delete(DeleteCustomersRequest request) {
        return this.rawClient.delete(request).body();
    }

    /**
     * Deletes a customer profile from a business.
     * <p>To delete a customer profile that was created by merging existing profiles, you must use the ID of the newly created profile.</p>
     */
    public DeleteCustomerResponse delete(DeleteCustomersRequest request, RequestOptions requestOptions) {
        return this.rawClient.delete(request, requestOptions).body();
    }

    public CustomAttributeDefinitionsClient customAttributeDefinitions() {
        return this.customAttributeDefinitionsClient.get();
    }

    public GroupsClient groups() {
        return this.groupsClient.get();
    }

    public SegmentsClient segments() {
        return this.segmentsClient.get();
    }

    public CardsClient cards() {
        return this.cardsClient.get();
    }

    public CustomAttributesClient customAttributes() {
        return this.customAttributesClient.get();
    }
}
